#include <stdio.h>
#include <stdlib.h>

int main() {
    int n;
    printf("Enter number of students: ");
    scanf("%d", &n);

    int **marks = malloc(n * sizeof(int*));
    int *count = malloc(n * sizeof(int));

    for (int i=0;i<n;i++) {
        printf("Enter subjects for student %d: ", i+1);
        scanf("%d", &count[i]);
        marks[i] = malloc(count[i]*sizeof(int));
        for (int j=0;j<count[i];j++)
            scanf("%d", &marks[i][j]);
    }

    double maxAvg=0; int topper=0;
    for (int i=0;i<n;i++) {
        double sum=0;
        for (int j=0;j<count[i];j++) sum += marks[i][j];
        double avg = sum / count[i];
        if (avg>maxAvg) { maxAvg=avg; topper=i; }
    }
    printf("Topper: Student %d with avg %.2f\n", topper+1, maxAvg);

    for (int i=0;i<n;i++) free(marks[i]);
    free(marks);
    free(count);
}
