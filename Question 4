#include <stdio.h>
#include <stdlib.h>

typedef struct {
    int *data, size, cap;
} Vector;

void push(Vector *v, int val) {
    if (v->size == v->cap) {
        v->cap = v->cap ? v->cap * 2 : 1;
        v->data = realloc(v->data, v->cap * sizeof(int));
    }
    v->data[v->size++] = val;
}

int main() {
    Vector v = {NULL, 0, 0};
    for (int i = 1; i <= 10; i++)
        push(&v, i);
    for (int i = 0; i < v.size; i++)
        printf("%d ", v.data[i]);
    free(v.data);
}
